{% extends 'base.html' %}

{% block title %} - Profile {% endblock %}

{% block content %}
<div class="row justify-content-md-center">
  <div class="col-md-7 col-lg-6">
    <h2>User Info</h2>
    <div class="form-group row">
      <label for="user-name" class="col-sm-2 col-form-label">Name</label>
      <div class="col-sm-10">
        <input type="text" readonly class="form-control-plaintext text-muted" id="user-name" value="{{g.user.full_name}}">
      </div>
    </div>
    <div class="form-group row">
      <label for="user-email" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <input type="text" readonly class="form-control-plaintext text-muted" id="user-email" value="{{g.user.email}}">
      </div>
    </div>

    {% include 'form.html' %}
  </div>
</div>
<div class="row justify-content-md-center mt-5">
  <div class="col-md-7 col-lg-6">
    <h2>Favorite Category</h2>
    <p class="lead">Please choose 3 of your favorite categories!</p>
    <form action="" id="category-form">
      <div class="row">
        {% for category in categories %}
        <div class="col-md-6 col-lg-4">
          {% if category in g.user.categories %}
          <input type="checkbox" name="{{category.name}}" id="{{category.name}}-check" checked>
          {% else %}
          <input type="checkbox" name="{{category.name}}" id="{{category.name}}-check">
          {% endif %}
          <label for="{{category.name}}-check">{{category.name|capitalize}}</label>
        </div>
        {% endfor %}
      </div>
      <button class="btn btn-primary btn-block btn-lg" type="submit">Update Preference</button>
    </form>
  </div>
</div>

<hr>
<h2 class="text-center">Bookmarks</h2>
<div>
  <ul>
    {% for article in bookmarks %}
      <li>
        <div>
          <a target="_blank" rel="noopener noreferrer" href="{{article['url']}}">
            {{article['title']}} - {{article['timestamp']}}
          </a>
        </div>
        <div>
          {% for tag in article.tags %}
          <span class="badge badge-info">{{tag.keyword}}</span>
          {% endfor %}
        </div>
      </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}